<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>BossX Masternode â€” Baseline Aman</title>
  <style>
    /* Reset & dasar */
    *{margin:0;padding:0;box-sizing:border-box}
    body{font-family:Arial, sans-serif;display:flex;background:#111;color:#fff}

    /* Sidebar */
    .sidebar{width:220px;background:#222;padding:20px;display:flex;flex-direction:column;gap:10px}
    .sidebar h2{color:gold;margin-bottom:20px}
    .sidebar a{padding:10px;color:#ccc;text-decoration:none;border-radius:4px;cursor:pointer}
    .sidebar a.active,.sidebar a:hover{background:purple;color:#fff}

    /* Main */
    .main{flex:1;padding:20px}
    .topbar{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}
    #themeBtn{background:none;border:none;font-size:20px;cursor:pointer;color:gold}

    /* Konten */
    .content{display:none}
    .content.active{display:block}

    /* Cards */
    .cards{display:flex;flex-wrap:wrap;gap:20px}
    .card{background:#1a1a1a;padding:15px;border-radius:8px;flex:1;min-width:260px}
    .card h3{margin-bottom:10px;color:gold}
    .value{font-size:1.1em;margin:8px 0}
    .big-time{font-size:2em;font-weight:bold}

    /* Tabel */
    .table-wrap{overflow-x:auto}
    table{width:100%;border-collapse:collapse;margin-top:10px}
    th,td{padding:8px;border-bottom:1px solid #333;text-align:left}
    th{background:#333;color:gold}

    /* Status */
    .withdraw-status-pending{color:orange;font-weight:bold}
    .withdraw-status-success{color:lime;font-weight:bold}

    /* Buttons */
    .btn-primary{background:purple;color:#fff;border:none;padding:8px 12px;border-radius:4px;cursor:pointer}
    .btn-primary:hover{background:darkmagenta}

    /* Tema */
    .night-theme{background:#111;color:#fff}
    .day-theme{background:#f5f5f5;color:#000}
    .day-theme .sidebar{background:#ddd}
    .day-theme .sidebar a{color:#000}
    .day-theme .sidebar a.active,.day-theme .sidebar a:hover{background:gold;color:#000}
  </style>
</head>
<body id="theme" class="night-theme">
  <!-- Sidebar -->
  <aside class="sidebar">
    <h2>BossX</h2>
    <a id="menu-dashboard" class="active" data-target="dashboard">Dashboard</a>
    <a id="menu-validasi" data-target="validasi">Validasi Running</a>
    <a id="menu-reward" data-target="reward">Reward Validasi</a>
    <a id="menu-history" data-target="history">History Aktivasi</a>
    <a id="menu-withdraw" data-target="withdraw">Withdraw</a>
    <a id="menu-p2p" data-target="p2p">Peer to Peer</a>
  </aside>

  <!-- Main -->
  <main class="main">
    <div class="topbar">
      <div id="clock">â€”</div>
      <button id="themeBtn" type="button">ðŸŒ™</button>
    </div>

    <!-- Dashboard -->
    <section id="dashboard" class="content active">
      <h1>Dashboard</h1>
      <div class="cards">
        <div class="card">
          <h3>Status validasi</h3>
          <div id="runStatus"><span class="withdraw-status-pending">Belum berjalan</span></div>
          <button id="runBtn" class="btn-primary" type="button">ON</button>
        </div>
        <div class="card">
          <h3>Countdown auto-OFF harian</h3>
          <div class="big-time" id="countdown">00:00:00</div>
        </div>
        <div class="card">
          <h3>Countdown kontrak</h3>
          <div class="value" id="contractCountdown">0h 0j 0m 0d</div>
        </div>
        <div class="card">
          <h3>Saldo USDT</h3>
          <div id="usdtBalance">0.00 USDT</div>
        </div>
      </div>
    </section>

    <!-- Validasi Running -->
    <section id="validasi" class="content">
      <h1>Validasi Running</h1>
      <div class="cards">
        <div class="card">
          <h3>Siklus 60 detik</h3>
          <div class="value" id="bossxAmount">0.0000000000 BossX</div>
        </div>
        <div class="card">
          <h3>Aktivasi masternode</h3>
          <form id="nodeForm">
            <div class="form-row">
              <label for="nodeAmount">Jumlah aktivasi (BOSSX)</label>
              <input id="nodeAmount" type="number" step="0.0000000001" min="10" required />
            </div>
            <button type="submit" class="btn-primary">Aktivkan Masternode</button>
          </form>
        </div>
      </div>
    </section>

    <!-- Reward Validasi -->
    <section id="reward" class="content">
      <h1>Reward Validasi</h1>
      <div class="cards">
        <div class="card">
          <h3>Total reward terkumpul</h3>
          <div class="value" id="rewardAmount">0.0000000000 BossX</div>
          <button id="convertBtn" class="btn-primary" type="button">Convert ke USDT</button>
          <p class="note">Minimal convert: 1 BOSSX</p>
        </div>
      </div>
    </section>

    <!-- History Aktivasi -->
    <section id="history" class="content">
      <h1>History Aktivasi</h1>
      <div class="table-wrap">
        <table id="historyValidasi">
          <thead>
            <tr>
              <th>Hari</th><th>Tanggal</th><th>Bulan</th><th>Tahun</th>
              <th>Jam</th><th>Menit</th><th>Detik</th>
              <th>Jumlah Aktivasi</th><th>Status</th><th>Masa Akhir Kontrak</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
      </div>
    </section>

    <!-- Withdraw -->
    <section id="withdraw" class="content">
      <h1>Withdraw USDT</h1>
      <div class="cards">
        <div class="card">
          <h3>Form penarikan</h3>
          <form id="withdrawForm">
            <div class="form-row">
              <label for="amount">Jumlah (USDT)</label>
              <input id="amount" type="number" step="0.01" min="10" required />
            </div>
            <button type="submit" class="btn-primary">Kirim penarikan</button>
          </form>
        </div>
      </div>
    </section>

    <!-- Peer to Peer -->
    <section id="p2p" class="content">
      <h1>Peer to Peer</h1>
      <div class="cards">
        <div class="card">
          <h3>Kirim BOSSX</h3>
          <form id="p2pForm">
            <div class="form-row">
              <label for="p2pUsername">Username penerima</label>
              <input id="p2pUsername" type="text" placeholder="@username" required />
            </div>
            <div class="form-row">
              <label for="p2pAmount">Jumlah (BOSSX)</label>
              <input id="p2pAmount" type="number" step="0.0000000001" min="1" required />
            </div>
            <button type="submit" class="btn-primary">Kirim</button>
          </form>
        </div>
      </div>
    </section>
  </main>

  <script>
    // Semua script dibungkus agar aman dan tidak akses elemen sebelum siap
    document.addEventListener('DOMContentLoaded', () => {
      // State sangat minimal (tanpa perhitungan) agar pasti aman
      let validasiAktif = false;

      // Navigasi aman
      document.querySelectorAll('.sidebar a').forEach(a => {
        a.addEventListener('click', () => {
          const id = a.getAttribute('data-target');
          if (!id) return;
          document.querySelectorAll('.content').forEach(s => s.classList.remove('active'));
          const target = document.getElementById(id);
          if (target) target.classList.add('active');

          document.querySelectorAll('.sidebar a').forEach(x => x.classList.remove('active'));
          a.classList.add('active');
        });
      });

      // Theme toggle aman
      const theme = document.getElementById('theme');
      const themeBtn = document.getElementById('themeBtn');
      if (theme && themeBtn) {
        themeBtn.addEventListener('click', () => {
          theme.classList.toggle('day-theme');
          theme.classList.toggle('night-theme');
          themeBtn.textContent = theme.classList.contains('night-theme') ? 'ðŸŒž' : 'ðŸŒ™';
        });
      }

      // Clock aman
      const clockEl = document.getElementById('clock');
      function updateClock() {
        const now = new Date();
        const date = now.toLocaleDateString('id-ID', { weekday:'long', year:'numeric', month:'long', day:'numeric' });
        const time = now.toLocaleTimeString('id-ID', { hour12:false });
        if (clockEl) clockEl.textContent = `${date} | ${time}`;
      }
      updateClock();
      setInterval(updateClock, 1000);

      // Countdown harian aman (tanpa mematikan logika)
      const cdEl = document.getElementById('countdown');
      function to2(n){ return String(n).padStart(2,'0'); }
      function updateCountdownToSix(){
        const now = new Date();
        const target = new Date(now);
        target.setHours(6,0,0,0);
        if (now >= target) target.setDate(target.getDate()+1);
        const diff = Math.max(0, target - now);
        const h = to2(Math.floor(diff/3600000));
        const m = to2(Math.floor((diff%3600000)/60000));
        const s = to2(Math.floor((diff%60000)/1000));
        if (cdEl) cdEl.textContent = `${h}:${m}:${s}`;
      }
      updateCountdownToSix();
      setInterval(updateCountdownToSix, 1000);

      // Status tombol ON aman (hanya ubah tampilan)
      const runBtn = document.getElementById('runBtn');
      const runStatus = document.getElementById('runStatus');
      if (runBtn && runStatus) {
        runBtn.addEventListener('click', () => {
          validasiAktif = !validasiAktif;
          runStatus.innerHTML = validasiAktif
            ? "<span class='withdraw-status-success'>Berjalan âœ…</span>"
            : "<span class='withdraw-status-pending'>Belum berjalan</span>";
        });
      }

      // Placeholder saldo & reward tetap tampil stabil
      const usdtBalance = document.getElementById('usdtBalance');
      const rewardAmount = document.getElementById('rewardAmount');
      if (usdtBalance) usdtBalance.textContent = "0.00 USDT";
      if (rewardAmount) rewardAmount.textContent = "0.0000000000 BossX";

      // Form aktivasi masternode: hanya catat ke tabel (tanpa logika kontrak dulu)
      const nodeForm = document.getElementById('nodeForm');
      if (nodeForm) {
        nodeForm.addEventListener('submit', (e) => {
          e.preventDefault();
          const v = parseFloat(document.getElementById('nodeAmount').value);
          if (isNaN(v) || v < 10) { alert("Minimal aktivasi 10 BOSSX"); return; }
          const now = new Date();
          const tbody = document.querySelector('#historyValidasi tbody');
          if (tbody) {
            const tr = document.createElement('tr');
            tr.innerHTML = `
              <td>${now.toLocaleDateString('id-ID',{weekday:'long'})}</td>
              <td>${now.getDate()}</td>
              <td>${now.toLocaleDateString('id-ID',{month:'long'})}</td>
              <td>${now.getFullYear()}</td>
              <td>${to2(now.getHours())}</td>
              <td>${to2(now.getMinutes())}</td>
              <td>${to2(now.getSeconds())}</td>
              <td>${v} BOSSX</td>
              <td class="withdraw-status-success">Aktif</td>
              <td>-</td>
            `;
            tbody.prepend(tr);
          }
          alert("Masternode dicatat âœ…");
          nodeForm.reset();
        });
      }

      // Convert tombol aman (tanpa logika saldo dulu)
      const convertBtn = document.getElementById('convertBtn');
      if (convertBtn) {
        convertBtn.addEventListener('click', () => {
          alert("Minimal convert 1 BOSSX (logika konversi akan ditambahkan setelah baseline OK).");
        });
      }
    });
  </script>
</body>
</html>
